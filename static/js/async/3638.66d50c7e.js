/*! For license information please see 3638.66d50c7e.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([["3638"],{1774:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return n}});var r=o("21255");o.es(r,t);var n=r.default},34472:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return u}});var r=o("38613"),n=o("84562"),a=o("97675"),i=o("25486"),l=o("74656"),u={__name:"index",setup(e){let t=(0,i.useTranslate)({"zh-CN":{penColor:"\u81EA\u5B9A\u4E49\u989C\u8272",lineWidth:"\u81EA\u5B9A\u4E49\u7EBF\u5BBD",backgroundColor:"\u81EA\u5B9A\u4E49\u80CC\u666F\u989C\u8272"},"en-US":{penColor:"Pen Color",lineWidth:"Line Width",backgroundColor:"Background Color"}}),o=(0,r.ref)(""),u=e=>{o.value=e.image},c=()=>(0,l.showToast)("clear");return(e,i)=>{let l=(0,r.resolveComponent)("demo-block");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(l,{title:(0,r.unref)(t)("basicUsage")},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(n.default),{onSubmit:u,onClear:c})]),_:1},8,["title"]),o.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.default),{key:0,src:o.value},null,8,["src"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(l,{title:(0,r.unref)(t)("penColor")},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(n.default),{"pen-color":"#ff0000",onClear:c,onSubmit:u})]),_:1},8,["title"]),(0,r.createVNode)(l,{title:(0,r.unref)(t)("lineWidth")},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(n.default),{"line-width":6,onClear:c,onSubmit:u})]),_:1},8,["title"]),(0,r.createVNode)(l,{title:(0,r.unref)(t)("backgroundColor")},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(n.default),{"background-color":"#eee",onClear:c,onSubmit:u})]),_:1},8,["title"])],64)}}}},21255:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return r.default}});var r=o("34472");o.es(r,t)},67685:function(e,t,o){"use strict";o.r(t),o.d(t,{Button:function(){return a},default:function(){return i}});var r=o("96040"),n=o("18777"),a=(0,r.withInstall)(n.default),i=a},48256:function(e,t,o){"use strict";o.r(t),o.d(t,{routeProps:function(){return n},route:function(){return a},useRoute:function(){return i}}),o("53951"),o("28067");var r=o("38613"),n={to:[String,Object],url:String,replace:Boolean};function a(e){var{to:t,url:o,replace:r,$router:n}=e;t&&n?n[r?"replace":"push"](t):o&&(r?location.replace(o):location.href=o)}function i(){var e=(0,r.getCurrentInstance)().proxy;return()=>a(e)}},97675:function(e,t,o){"use strict";o.r(t),o.d(t,{Image:function(){return a},default:function(){return i}});var r=o("96040"),n=o("34208"),a=(0,r.withInstall)(n.default),i=a},77956:function(e,t,o){"use strict";o.r(t),o.d(t,{Loading:function(){return a},default:function(){return i}});var r=o("96040"),n=o("27395"),a=(0,r.withInstall)(n.default),i=a},84562:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a}});var r=o("96040"),n=o("19094"),a=(0,r.withInstall)(n.default)},74656:function(e,t,o){"use strict";o.r(t),o.d(t,{showToast:function(){return a.showToast},closeToast:function(){return a.closeToast},showFailToast:function(){return a.showFailToast},showLoadingToast:function(){return a.showLoadingToast},showSuccessToast:function(){return a.showSuccessToast},default:function(){return i}});var r=o("96040"),n=o("82464"),a=o("13740"),i=(0,r.withInstall)(n.default)},58485:function(e,t,o){"use strict";o.r(t),o.d(t,{lockClick:function(){return n}});var r=0;function n(e){e?(!r&&document.body.classList.add("van-toast--unclickable"),r++):r&&!--r&&document.body.classList.remove("van-toast--unclickable")}},52221:function(e,t,o){"use strict";o.r(t),o.d(t,{usePopupState:function(){return i},mountComponent:function(){return l}});var r=o("38613"),n=o("88694"),a=o("4821");function i(){var e=(0,r.reactive)({show:!1}),t=t=>{e.show=t},o=o=>{(0,n.extend)(e,o,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return(0,a.useExpose)({open:o,close:i,toggle:t}),{open:o,close:i,state:e,toggle:t}}function l(e){var t=(0,r.createApp)(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}},18777:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return d}}),o("97381"),o("8781"),o("5737");var r=o("38613"),n=o("96040"),a=o("48256"),i=o("13820"),l=o("77956"),[u,c]=(0,n.createNamespace)("button"),s=(0,n.extend)({},a.routeProps,{tag:(0,n.makeStringProp)("button"),text:String,icon:String,type:(0,n.makeStringProp)("default"),size:(0,n.makeStringProp)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,n.makeStringProp)("button"),loadingSize:n.numericProp,loadingText:String,loadingType:String,iconPosition:(0,n.makeStringProp)("left")}),d=(0,r.defineComponent)({name:u,props:s,emits:["click"],setup(e,t){var{emit:o,slots:u}=t,s=(0,a.useRoute)(),d=()=>u.loading?u.loading():(0,r.createVNode)(l.Loading,{size:e.loadingSize,type:e.loadingType,class:c("loading")},null),f=()=>e.loading?d():u.icon?(0,r.createVNode)("div",{class:c("icon")},[u.icon()]):e.icon?(0,r.createVNode)(i.Icon,{name:e.icon,class:c("icon"),classPrefix:e.iconPrefix},null):void 0,v=()=>{var t;if(t=e.loading?e.loadingText:u.default?u.default():e.text)return(0,r.createVNode)("span",{class:c("text")},[t])},p=()=>{var{color:t,plain:o}=e;if(t){var r={color:o?t:"white"};return!o&&(r.background=t),t.includes("gradient")?r.border=0:r.borderColor=t,r}},g=t=>{e.loading?(0,n.preventDefault)(t):!e.disabled&&(o("click",t),s())};return()=>{var{tag:t,type:o,size:a,block:i,round:l,plain:u,square:s,loading:d,disabled:m,hairline:h,nativeType:k,iconPosition:w}=e,C=[c([o,a,{plain:u,block:i,round:l,square:s,loading:d,disabled:m,hairline:h}]),{[n.BORDER_SURROUND]:h}];return(0,r.createVNode)(t,{type:k,class:C,style:p(),disabled:m,onClick:g},{default:()=>[(0,r.createVNode)("div",{class:c("content")},["left"===w&&f(),v(),"right"===w&&f()])]})}}})},34208:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return c}}),o("97381"),o("8781");var r=o("38613"),n=o("96040"),a=o("13820"),[i,l]=(0,n.createNamespace)("image"),u={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:n.numericProp,height:n.numericProp,radius:n.numericProp,lazyLoad:Boolean,iconSize:n.numericProp,showError:n.truthProp,errorIcon:(0,n.makeStringProp)("photo-fail"),iconPrefix:String,showLoading:n.truthProp,loadingIcon:(0,n.makeStringProp)("photo")},c=(0,r.defineComponent)({name:i,props:u,emits:["load","error"],setup(e,t){var{emit:o,slots:i}=t,u=(0,r.ref)(!1),c=(0,r.ref)(!0),s=(0,r.ref)(),{$Lazyload:d}=(0,r.getCurrentInstance)().proxy,f=(0,r.computed)(()=>{var t={width:(0,n.addUnit)(e.width),height:(0,n.addUnit)(e.height)};return(0,n.isDef)(e.radius)&&(t.overflow="hidden",t.borderRadius=(0,n.addUnit)(e.radius)),t});(0,r.watch)(()=>e.src,()=>{u.value=!1,c.value=!0});var v=e=>{c.value&&(c.value=!1,o("load",e))},p=()=>{var e=new Event("load");Object.defineProperty(e,"target",{value:s.value,enumerable:!0}),v(e)},g=e=>{u.value=!0,c.value=!1,o("error",e)},m=(t,o,n)=>n?n():(0,r.createVNode)(a.Icon,{name:t,size:e.iconSize,class:o,classPrefix:e.iconPrefix},null),h=()=>c.value&&e.showLoading?(0,r.createVNode)("div",{class:l("loading")},[m(e.loadingIcon,l("loading-icon"),i.loading)]):u.value&&e.showError?(0,r.createVNode)("div",{class:l("error")},[m(e.errorIcon,l("error-icon"),i.error)]):void 0,k=()=>{if(!u.value&&e.src){var t={alt:e.alt,class:l("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?(0,r.withDirectives)((0,r.createVNode)("img",(0,r.mergeProps)({ref:s},t),null),[[(0,r.resolveDirective)("lazy"),e.src]]):(0,r.createVNode)("img",(0,r.mergeProps)({ref:s,src:e.src,onLoad:v,onError:g},t),null)}},w=e=>{var{el:t}=e,o=()=>{t===s.value&&c.value&&p()};s.value?o():(0,r.nextTick)(o)},C=e=>{var{el:t}=e;t===s.value&&!u.value&&g()};return d&&n.inBrowser&&(d.$on("loaded",w),d.$on("error",C),(0,r.onBeforeUnmount)(()=>{d.$off("loaded",w),d.$off("error",C)})),(0,r.onMounted)(()=>{(0,r.nextTick)(()=>{var t;(null===(t=s.value)||void 0===t?void 0:t.complete)&&!e.lazyLoad&&p()})}),()=>{var t;return(0,r.createVNode)("div",{class:l({round:e.round,block:e.block}),style:f.value},[k(),h(),null===(t=i.default)||void 0===t?void 0:t.call(i)])}}})},27395:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return s}}),o("97381"),o("8781"),o("90517"),o("54368");var r=o("38613"),n=o("96040"),[a,i]=(0,n.createNamespace)("loading"),l=Array(12).fill(null).map((e,t)=>(0,r.createVNode)("i",{class:i("line",String(t+1))},null)),u=(0,r.createVNode)("svg",{class:i("circular"),viewBox:"25 25 50 50"},[(0,r.createVNode)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),c={size:n.numericProp,type:(0,n.makeStringProp)("circular"),color:String,vertical:Boolean,textSize:n.numericProp,textColor:String},s=(0,r.defineComponent)({name:a,props:c,setup(e,t){var{slots:o}=t,a=(0,r.computed)(()=>(0,n.extend)({color:e.color},(0,n.getSizeStyle)(e.size))),c=()=>{var t="spinner"===e.type?l:u;return(0,r.createVNode)("span",{class:i("spinner",e.type),style:a.value},[o.icon?o.icon():t])},s=()=>{if(o.default){var t;return(0,r.createVNode)("span",{class:i("text"),style:{fontSize:(0,n.addUnit)(e.textSize),color:null!==(t=e.textColor)&&void 0!==t?t:e.color}},[o.default()])}};return()=>{var{type:t,vertical:o}=e;return(0,r.createVNode)("div",{class:i([t,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[c(),s()])}}})},19094:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return v}}),o("97381"),o("8781");var r=o("38613"),n=o("96040"),a=o("25111"),i=o("4821"),l=o("67685"),[u,c,s]=(0,n.createNamespace)("signature"),d={tips:String,type:(0,n.makeStringProp)("png"),penColor:(0,n.makeStringProp)("#000"),lineWidth:(0,n.makeNumberProp)(3),clearButtonText:String,backgroundColor:(0,n.makeStringProp)(""),confirmButtonText:String},f=()=>{var e,t=document.createElement("canvas");return!!(null===(e=t.getContext)||void 0===e?void 0:e.call(t,"2d"))},v=(0,r.defineComponent)({name:u,props:d,emits:["submit","clear","start","end","signing"],setup(e,t){var o,{emit:u}=t,d=(0,r.ref)(),v=(0,r.ref)(),p=(0,r.computed)(()=>d.value?d.value.getContext("2d"):null),g=!n.inBrowser||f(),m=0,h=0,k=()=>{if(!p.value)return!1;p.value.beginPath(),p.value.lineWidth=e.lineWidth,p.value.strokeStyle=e.penColor,o=(0,a.useRect)(d),u("start")},w=e=>{if(!p.value)return!1;(0,n.preventDefault)(e);var t=e.touches[0],r=t.clientX-((null==o?void 0:o.left)||0),a=t.clientY-((null==o?void 0:o.top)||0);p.value.lineCap="round",p.value.lineJoin="round",p.value.lineTo(r,a),p.value.stroke(),u("signing",e)},C=e=>{(0,n.preventDefault)(e),u("end")},S=t=>{var o=document.createElement("canvas");return o.width=t.width,o.height=t.height,e.backgroundColor&&y(o.getContext("2d")),t.toDataURL()===o.toDataURL()},y=t=>{t&&e.backgroundColor&&(t.fillStyle=e.backgroundColor,t.fillRect(0,0,m,h))},b=()=>{var t,o,r=d.value;r&&u("submit",{image:S(r)?"":(null===(t=(o={jpg:()=>r.toDataURL("image/jpeg",.8),jpeg:()=>r.toDataURL("image/jpeg",.8)})[e.type])||void 0===t?void 0:t.call(o))||r.toDataURL("image/".concat(e.type)),canvas:r})},P=()=>{p.value&&(p.value.clearRect(0,0,m,h),p.value.closePath(),y(p.value)),u("clear")},N=()=>{if(g&&d.value){var e,t,o,r=d.value,a=n.inBrowser?window.devicePixelRatio:1;m=r.width=((null===(e=v.value)||void 0===e?void 0:e.offsetWidth)||0)*a,h=r.height=((null===(t=v.value)||void 0===t?void 0:t.offsetHeight)||0)*a,null===(o=p.value)||void 0===o||o.scale(a,a),y(p.value)}},x=()=>{if(p.value){var e=p.value.getImageData(0,0,m,h);N(),p.value.putImageData(e,0,0)}};return(0,r.watch)(n.windowWidth,x),(0,r.onMounted)(N),(0,i.useExpose)({resize:x}),()=>(0,r.createVNode)("div",{class:c()},[(0,r.createVNode)("div",{class:c("content"),ref:v},[g?(0,r.createVNode)("canvas",{ref:d,onTouchstartPassive:k,onTouchmove:w,onTouchend:C},null):(0,r.createVNode)("p",null,[e.tips])]),(0,r.createVNode)("div",{class:c("footer")},[(0,r.createVNode)(l.Button,{size:"small",onClick:P},{default:()=>[e.clearButtonText||s("clear")]}),(0,r.createVNode)(l.Button,{type:"primary",size:"small",onClick:b},{default:()=>[e.confirmButtonText||s("confirm")]})])])}})},82464:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return v}}),o("97381"),o("8781");var r=o("38613"),n=o("96040"),a=o("58485"),i=o("13820"),l=o("96187"),u=o("77956"),[c,s]=(0,n.createNamespace)("toast"),d=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],f={icon:String,show:Boolean,type:(0,n.makeStringProp)("text"),overlay:Boolean,message:n.numericProp,iconSize:n.numericProp,duration:(0,n.makeNumberProp)(2e3),position:(0,n.makeStringProp)("middle"),teleport:[String,Object],wordBreak:String,className:n.unknownProp,iconPrefix:String,transition:(0,n.makeStringProp)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:n.unknownProp,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},v=(0,r.defineComponent)({name:c,props:f,emits:["update:show"],setup(e,t){var o,{emit:c,slots:f}=t,v=!1,p=()=>{var t=e.show&&e.forbidClick;v!==t&&(v=t,(0,a.lockClick)(v))},g=e=>c("update:show",e),m=()=>{e.closeOnClick&&g(!1)},h=()=>clearTimeout(o),k=()=>{var{icon:t,type:o,iconSize:n,iconPrefix:a,loadingType:l}=e;return t||"success"===o||"fail"===o?(0,r.createVNode)(i.Icon,{name:t||o,size:n,class:s("icon"),classPrefix:a},null):"loading"===o?(0,r.createVNode)(u.Loading,{class:s("loading"),size:n,type:l},null):void 0},w=()=>{var{type:t,message:o}=e;return f.message?(0,r.createVNode)("div",{class:s("text")},[f.message()]):(0,n.isDef)(o)&&""!==o?"html"===t?(0,r.createVNode)("div",{key:0,class:s("text"),innerHTML:String(o)},null):(0,r.createVNode)("div",{class:s("text")},[o]):void 0};return(0,r.watch)(()=>[e.show,e.forbidClick],p),(0,r.watch)(()=>[e.show,e.type,e.message,e.duration],()=>{h(),e.show&&e.duration>0&&(o=setTimeout(()=>{g(!1)},e.duration))}),(0,r.onMounted)(p),(0,r.onUnmounted)(p),()=>(0,r.createVNode)(l.Popup,(0,r.mergeProps)({class:[s([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:m,onClosed:h,"onUpdate:show":g},(0,n.pick)(e,d)),{default:()=>[k(),w()]})}})},13740:function(e,t,o){"use strict";o.r(t),o.d(t,{showToast:function(){return d},showLoadingToast:function(){return v},showSuccessToast:function(){return p},showFailToast:function(){return g},closeToast:function(){return m}}),o("43186"),o("24468"),o("19272"),o("77544"),o("99353"),o("36852"),o("78420"),o("21860"),o("39193"),o("86167"),o("77253"),o("73455"),o("90095"),o("68571"),o("97381"),o("8781"),o("55220"),o("72880"),o("45145"),o("82623"),o("63145"),o("68900");var r=o("38613"),n=o("96040"),a=o("52221"),i=o("82464"),l=[],u=(0,n.extend)({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1}),c=new Map;function s(e){return(0,n.isObject)(e)?e:{message:e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!n.inBrowser)return{};var t=function(){if(!l.length){var e=function(){var{instance:e,unmount:t}=(0,a.mountComponent)({setup(){var e=(0,r.ref)(""),{open:t,state:o,close:n,toggle:l}=(0,a.usePopupState)(),u=()=>{};return(0,r.watch)(e,e=>{o.message=e}),(0,r.getCurrentInstance)().render=()=>(0,r.createVNode)(i.default,(0,r.mergeProps)(o,{onClosed:u,"onUpdate:show":l}),null),{open:t,close:n,message:e}}});return e}();l.push(e)}return l[l.length-1]}(),o=s(e);return t.open((0,n.extend)({},u,c.get(o.type||u.type),o)),t}var f=e=>t=>d((0,n.extend)({type:e},s(t))),v=f("loading"),p=f("success"),g=f("fail"),m=e=>{if(l.length){if(e)l.forEach(e=>{e.close()}),l=[];else{var t;l[0].close()}}}}}]);