/*! For license information please see 2915.fd495b09.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([["2915"],{8896:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var r=t("49120");t.es(r,a),t("90935");var l=r.default},49120:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return r.default}});var r=t("64456");t.es(r,a)},64456:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return c}}),t("97381"),t("8781"),t("82623");var r=t("38613"),l=t("24767"),u=t("67685"),i=t("86796"),n=t("25486"),o=t("25111"),d=(0,r.createElementVNode)("div",{class:"video"},null,-1),s=(0,r.createElementVNode)("div",{class:"video"},null,-1),c=(0,r.defineComponent)({__name:"index",setup(e){var a=(0,n.useTranslate)({"zh-CN":{barrage:"\u5F39\u5E55",play:"\u5F00\u59CB",pause:"\u6682\u505C",videoBarrage:"\u6A21\u4EFF\u89C6\u9891\u5F39\u5E55",lightweight:"\u8F7B\u91CF",customizable:"\u53EF\u5B9A\u5236\u7684",mobile:"\u79FB\u52A8\u7AEF",library:"\u7EC4\u4EF6\u5E93"},"en-US":{barrage:"barrage",play:"play",pause:"pause",videoBarrage:"Imitate video barrage",lightweight:"Lightweight",customizable:"Customizable",mobile:"Mobile",library:"Library"}}),t=[{id:100,text:a("lightweight")},{id:101,text:a("customizable")},{id:102,text:a("mobile")},{id:103,text:"Vue"},{id:104,text:a("library")},{id:105,text:"VantUI"},{id:106,text:"666"}],c=(0,r.ref)([...t]),f=()=>{c.value.push({id:Math.random(),text:"Barrage"})},m=(0,r.ref)([...t]),p=(0,r.ref)(),v=()=>{m.value.push({id:Math.random(),text:"Barrage"})},[y,g]=(0,o.useToggle)(!1);return(0,r.watch)(y,()=>{var e,a;y.value?null===(e=p.value)||void 0===e||e.play():null===(a=p.value)||void 0===a||a.pause()}),(e,t)=>{var n=(0,r.resolveComponent)("demo-block");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(n,{title:(0,r.unref)(a)("basicUsage")},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(l.default),{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e)},{default:(0,r.withCtx)(()=>[d]),_:1},8,["modelValue"]),(0,r.createVNode)((0,r.unref)(i.default),{style:{"margin-top":"10px"}},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(u.default),{onClick:f,type:"primary",size:"small"},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(a)("barrage")),1)]),_:1})]),_:1})]),_:1},8,["title"]),(0,r.createVNode)(n,{title:(0,r.unref)(a)("videoBarrage")},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(l.default),{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),ref_key:"videoBarrage",ref:p,"auto-play":!1},{default:(0,r.withCtx)(()=>[s]),_:1},8,["modelValue"]),(0,r.createVNode)((0,r.unref)(i.default),{style:{"margin-top":"10px"}},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(u.default),{onClick:v,type:"primary",size:"small",disabled:!(0,r.unref)(y)},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(a)("barrage")),1)]),_:1},8,["disabled"]),(0,r.createVNode)((0,r.unref)(u.default),{onClick:t[2]||(t[2]=e=>(0,r.unref)(g)()),size:"small"},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(y)?(0,r.unref)(a)("pause"):(0,r.unref)(a)("play")),1)]),_:1})]),_:1})]),_:1},8,["title"])],64)}}})},24767:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var r=t("96040"),l=t("82351"),u=(0,r.withInstall)(l.default)},4821:function(e,a,t){"use strict";t.r(a),t.d(a,{useExpose:function(){return u}});var r=t("38613"),l=t("96040");function u(e){var a=(0,r.getCurrentInstance)();a&&(0,l.extend)(a.proxy,e)}},82351:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return s}}),t("97381"),t("8781"),t("82623"),t("55220"),t("72880"),t("45145"),t("43186"),t("24468"),t("19272"),t("77544"),t("99353"),t("36852"),t("78420"),t("21860"),t("39193"),t("86167"),t("77253"),t("73455"),t("90095"),t("68571"),t("90517"),t("54368"),t("63145"),t("68900");var r=t("61078"),l=t("38613"),u=t("4821"),i=t("96040"),n={top:(0,i.makeNumericProp)(10),rows:(0,i.makeNumericProp)(4),duration:(0,i.makeNumericProp)(4e3),autoPlay:i.truthProp,delay:(0,i.makeNumberProp)(300),modelValue:(0,i.makeArrayProp)()},[o,d]=(0,i.createNamespace)("barrage"),s=(0,l.defineComponent)({name:o,props:n,emits:["update:modelValue"],setup(e,a){var{emit:t,slots:i}=a,n=(0,l.ref)(),o=d("item"),s=(0,l.ref)(0),c=[],f=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.delay,r=document.createElement("span");return r.className=o,r.innerText=String(a),r.style.animationDuration="".concat(e.duration,"ms"),r.style.animationDelay="".concat(t,"ms"),r.style.animationName="van-barrage",r.style.animationTimingFunction="linear",r},m=(0,l.ref)(!0),p=(0,l.ref)(e.autoPlay),v=(a,r)=>{var l,{id:u,text:i}=a,o=f(i,m.value?r*e.delay:void 0);!e.autoPlay&&!1===p.value&&(o.style.animationPlayState="paused"),null===(l=n.value)||void 0===l||l.append(o),s.value++;var d=(s.value-1)%+e.rows*o.offsetHeight+ +e.top;o.style.top="".concat(d,"px"),o.dataset.id=String(u),c.push(o),o.addEventListener("animationend",()=>{t("update:modelValue",[...e.modelValue].filter(e=>String(e.id)!==o.dataset.id))})},y=(e,a)=>{var t=new Map(a.map(e=>[e.id,e]));e.forEach((e,a)=>{t.has(e.id)?t.delete(e.id):v(e,a)}),t.forEach(e=>{var a=c.findIndex(a=>a.dataset.id===String(e.id));a>-1&&(c[a].remove(),c.splice(a,1))}),m.value=!1};(0,l.watch)(()=>e.modelValue.slice(),(e,a)=>y(null!=e?e:[],null!=a?a:[]),{deep:!0});var g=(0,l.ref)({});return(0,l.onMounted)((0,r._)(function*(){var a;g.value["--move-distance"]="-".concat(null===(a=n.value)||void 0===a?void 0:a.offsetWidth,"px"),yield(0,l.nextTick)(),y(e.modelValue,[])})),(0,u.useExpose)({play:()=>{p.value=!0,c.forEach(e=>{e.style.animationPlayState="running"})},pause:()=>{p.value=!1,c.forEach(e=>{e.style.animationPlayState="paused"})}}),()=>{var e;return(0,l.createVNode)("div",{class:d(),ref:n,style:g.value},[null===(e=i.default)||void 0===e?void 0:e.call(i)])}}})},90935:function(e,a,t){},20236:function(e,a,t){}}]);